% !TeX root = SketchFace.tex
% 

The task of sketch-to-photo translation can be defined as looking for a generator $G(S)$ so that the generated image $G(S)$ from a hand-drawn sketch $S$ looks realistic and keeps the shape characteristics for the input sketch.
%
Existing image translation techniques train a neural network as the generator with paired of sketch and photo data $(\mathcal{S}, \mathcal{X})$.
%
Due to the scarcity of real hand-drawn sketches, existing techniques synthesize sketches in a certain style to approximate the sketch set $\mathcal{S}$ from face image set $\mathcal{X}$ to train their generator in an adversarial manner.
The synthesized sketches $\mathcal{S}_{syn}$ are usually well aligned with the face images and present different distributions from hand-drawn sketches $\mathcal{S}$.
These models typically fail to generalize to hand-drawn sketches by common users. 
%


We propose a novel network architecture with a specially designed training strategy to improve the capability of the sketch-based image generator.
%
Figure~\ref{fig:architecture} shows the overview of our method.
%
In order to synthesize a set of sketches that has similar distribution with hand-drawn sketches $\hdS$, we deform the edge-aligned sketches $\synS$ to generate a set of deformed sketches $\dfmS$ to augment the training set.
We propose a novel framework using dual generators from the edge-aligned sketches $\synS$ and the deformed sketches $\dfmS$ respectively.
%
$G_m$ is the main generator trained by deformed sketches $\dfmS$, aiming to generate plausible photo-realistic face images from unseen hand-drawn sketches in test stage. 
$G_a$ is an auxiliary generator trained with edge-aligned sketches whose goal is to guide $G_m$ to adaptively sense the line distortion in deformed sketches.
%
A spatial attention pooling module (SAP) is added before the encoder $E_m$ of $G_m$ to adjust the spatially varying balance between \textit{the realism} of generated images and \textit{the conformance} between the generated image and the input sketch. 
%

